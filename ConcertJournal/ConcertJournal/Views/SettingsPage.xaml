<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ConcertJournal.Views.SettingsPage"
             xmlns:controls="clr-namespace:ConcertJournal.Views.Controls"
             BackgroundColor="{DynamicResource Background}">
    
    <Grid RowDefinitions="*,Auto">
        
        <!--MainContent-->
        <VerticalStackLayout Spacing="30" Padding="10">
            <Label Text="Settings"
                   FontSize="30"
                   FontAttributes="Bold"
                   VerticalOptions="Start" 
                   HorizontalOptions="Center"
                   TextColor="{DynamicResource TextColor}"
                   Margin="0,10"/>
            
            <!--Dark theme-->
            <Grid ColumnDefinitions="*,*">
                <Label Grid.Column="0"
                       Text="Dark theme"
                       TextColor="{DynamicResource TextColor}"
                       FontSize="24"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>

                <Switch Grid.Column="1"
                        HorizontalOptions="Center"
                        x:Name="ThemeSwitch"
                        IsToggled="{Binding IsDevilTheme, Mode=TwoWay}"
                        Toggled="OnThemeToggled"
                        ThumbColor="{DynamicResource Primary}"
                        OnColor="{DynamicResource Surface}"
                        Scale="1.5"/>
            </Grid>

            <Grid ColumnDefinitions="*,*">
                <Label Grid.Column="0"
                       Text="Export CSV or Excel"
                       FontSize="24"
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource TextColor}"/>

                <Button Grid.Column="1"
                        Text="Export Events"
                        FontSize="16"
                        BackgroundColor="{DynamicResource ButtonBackground}"
                        BorderColor="{DynamicResource ButtonBorderColor}"
                        CornerRadius="8"
                        Clicked="OnExportClicked"
                        Margin="40,0"/>
            </Grid>
            
            <Grid ColumnDefinitions="*,*">
                <Label Grid.Column="0"
                       Text="Import Database"
                       FontSize="24"
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource TextColor}"/>

                <Button Grid.Column="1"
                        Text="Import Database"
                        FontSize="16"
                        BackgroundColor="{DynamicResource ButtonBackground}"
                        BorderColor="{DynamicResource ButtonBorderColor}"
                        CornerRadius="8"
                        Clicked="OnImportFromExcelClicked"
                        Margin="40,0"/>
            </Grid>

            <Grid ColumnDefinitions="*,*">
                <Label Grid.Column="0"
                       Text="Export Database"
                       FontSize="24"
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource TextColor}"/>

                <Button Grid.Column="1"
                        Text="Export Database"
                        FontSize="16"
                        BackgroundColor="{DynamicResource ButtonBackground}"
                        BorderColor="{DynamicResource ButtonBorderColor}"
                        CornerRadius="8"
                        Clicked="OnExportDatabaseClicked"
                        Margin="40,0"/>
            </Grid>
        </VerticalStackLayout>

        <!--Navigation bar-->
        <controls:BottomNavBar Grid.Row="1" />
    </Grid>
    
</ContentPage>