<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ConcertJournal.Views.SettingsPage"
             xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
             xmlns:controls="clr-namespace:ConcertJournal.Views.Controls"
             BackgroundColor="{DynamicResource Background}">

    <!--For UraniumUI Material styles-->
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style TargetType="material:TextField">
                <Setter Property="FontSize" Value="16" />
                <Setter Property="TextColor" Value="{DynamicResource TextColor}" />
                <Setter Property="AccentColor" Value="{DynamicResource InputAccent}" />
                <Setter Property="BackgroundColor" Value="Transparent" />
                <Setter Property="AllowClear" Value="True" />
                <Setter Property="BorderColor" Value="{DynamicResource CardBorder}" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="*,Auto">
        <ScrollView Grid.Row="0">
        
            <!--MainContent/TabView-->
            <material:TabView TabPlacement="Top">
                <material:TabView.TabHeaderItemTemplate>
                    <DataTemplate>
                        <Button 
                            Text="{Binding Title}"
                            Command="{Binding Command}"
                            TextColor="{DynamicResource TextColor}"
                            BackgroundColor="Transparent"
                            FontSize="20"
                            BorderWidth="2"
                            CornerRadius="0"
                            Margin="0,0,0,48"
                            Padding="0,12,0,16">
                            <Button.Triggers>
                                <DataTrigger TargetType="Button" Binding="{Binding IsSelected}" Value="True">
                                    <Setter Property="BackgroundColor" Value="{DynamicResource Secondary}" />
                                </DataTrigger>
                            </Button.Triggers>
                        </Button>
                    </DataTemplate>
                </material:TabView.TabHeaderItemTemplate>
                <material:TabItem Title="Theme">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <VerticalStackLayout>
                                <Grid ColumnDefinitions="*,*">
                                    <Label 
                                        Grid.Column="0"
                                        Text="Dark theme"
                                        TextColor="{DynamicResource TextColor}"
                                        FontSize="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center"/>

                                    <Switch 
                                        Grid.Column="1"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center"
                                        x:Name="ThemeSwitch"
                                        IsToggled="{Binding IsDevilTheme, Mode=TwoWay}"
                                        ThumbColor="{DynamicResource Primary}"
                                        OnColor="{DynamicResource Surface}"
                                        Scale="1.5">
                                    </Switch>
                                </Grid>
                            </VerticalStackLayout>
                            
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>

                <material:TabItem Title="Import/Export">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <VerticalStackLayout Spacing="48">
                                <!--Import-->
                                <Grid ColumnDefinitions="*,*">
                                    <Label 
                                        Grid.Column="0"
                                        Text="Import Excel"
                                        FontSize="24"
                                        HorizontalTextAlignment="Center"
                                        TextColor="{DynamicResource TextColor}"/>

                                    <Button 
                                        Grid.Column="1"
                                        Text="Import Excel"
                                        FontSize="16"
                                        Clicked="OnImportFromExcelClicked"
                                        Margin="48,0"/>
                                </Grid>
                                
                                <!--Export-->
                                <Grid ColumnDefinitions="*,*">
                                    <Label 
                                        Grid.Column="0"
                                        Text="Export Events"
                                        FontSize="24"
                                        HorizontalOptions="Center"
                                        TextColor="{DynamicResource TextColor}"/>

                                    <Button 
                                        Grid.Column="1"
                                        Text="Export Excel"
                                        FontSize="16"
                                        Clicked="OnExportClicked"
                                        Margin="48,0"/>
                                </Grid>
                            </VerticalStackLayout>
                            
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>

                <material:TabItem Title="Default values">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <VerticalStackLayout Spacing="48">
                                <!--Default country-->
                                <Grid ColumnDefinitions="*,*">
                                    <Label 
                                         Grid.Column="0"
                                         FontSize="24"
                                         Text="Default Country" 
                                         TextColor="{DynamicResource TextColor}"
                                         HorizontalOptions="Center"
                                         VerticalOptions="Center"/>

                                    <material:TextField
                                        Grid.Column="1"
                                        x:Name="CountryEntry" 
                                        Title="Enter default country"
                                        CornerRadius="12"
                                        Text="{Binding DefaultCountry, Mode=TwoWay}"
                                        Margin="24,0"/>
                                </Grid>
                                
                                <!--Default city-->
                                <Grid ColumnDefinitions="*,*">
                                    <Label 
                                         Grid.Column="0"
                                         FontSize="24"
                                         Text="Default City" 
                                         TextColor="{DynamicResource TextColor}"
                                         HorizontalOptions="Center"
                                         VerticalOptions="Center"/>

                                    <material:TextField
                                        Grid.Column="1"
                                        x:Name="CityEntry" 
                                        Title="Enter default city" 
                                        CornerRadius="12"
                                        Text="{Binding DefaultCity, Mode=TwoWay}"
                                        Margin="24,0"/>
                                    
                                </Grid>
                                
                                <Button 
                                    Text="Save values"
                                    FontSize="16"
                                    Clicked="OnSaveClicked"
                                    BorderWidth="0"
                                    BackgroundColor="{DynamicResource ButtonGreen}"
                                    TextColor="{DynamicResource ButtonUpdateDeleteText}"
                                    HorizontalOptions="Center"
                                    Padding="12"/>
                            </VerticalStackLayout>
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>
            </material:TabView>

        </ScrollView>
        <!--Navigation bar-->
        <controls:BottomNavBar Grid.Row="1" />
    </Grid>
    
</ContentPage>