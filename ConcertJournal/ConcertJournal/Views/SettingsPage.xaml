<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ConcertJournal.Views.SettingsPage"
             xmlns:material="clr-namespace:UraniumUI.Material.Controls;assembly=UraniumUI.Material"
             xmlns:controls="clr-namespace:ConcertJournal.Views.Controls"
             BackgroundColor="{DynamicResource Background}">

    <!--For UraniumUI Material styles-->
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style TargetType="material:TextField">
                <Setter Property="FontSize" Value="16" />
                <Setter Property="TextColor" Value="{DynamicResource TextColor}" />
                <Setter Property="AccentColor" Value="{DynamicResource CardBorder}" />
                <Setter Property="BackgroundColor" Value="Transparent" />
                <Setter Property="AllowClear" Value="True" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="*,Auto">
        <ScrollView Grid.Row="0">
        
            <!--MainContent-->
            <material:TabView TabPlacement="Top">
                <material:TabItem Title="Theme">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="*,*">
                                <Label 
                                    Grid.Column="0"
                                    Text="Dark theme"
                                    TextColor="{DynamicResource TextColor}"
                                    FontSize="24"
                                    HorizontalOptions="Center"
                                    VerticalOptions="Center"/>

                                <Switch 
                                    Grid.Column="1"
                                    HorizontalOptions="Center"
                                    x:Name="ThemeSwitch"
                                    IsToggled="{Binding IsDevilTheme, Mode=TwoWay}"
                                    ThumbColor="{DynamicResource Primary}"
                                    OnColor="{DynamicResource Surface}"
                                    Scale="1.5">
                                </Switch>
                            </Grid>
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>
                
                <material:TabItem Title="Import/Export">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="*,*"
                                  RowDefinitions="*,*">
                                <Label 
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Text="Import Excel"
                                    FontSize="24"
                                    HorizontalOptions="Center"
                                    TextColor="{DynamicResource TextColor}"/>

                                <Button 
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Text="Import Excel"
                                    FontSize="16"
                                    BackgroundColor="{DynamicResource ButtonBackground}"
                                    BorderColor="{DynamicResource ButtonBorderColor}"
                                    CornerRadius="8"
                                    Clicked="OnImportFromExcelClicked"
                                    Margin="40,0"/>
                            
                                <Label 
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Text="Export Events"
                                    FontSize="24"
                                    HorizontalOptions="Center"
                                    TextColor="{DynamicResource TextColor}"/>

                                <Button 
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Text="Export Excel"
                                    FontSize="16"
                                    BackgroundColor="{DynamicResource ButtonBackground}"
                                    BorderColor="{DynamicResource ButtonBorderColor}"
                                    CornerRadius="8"
                                    Clicked="OnExportClicked"
                                    Margin="40,0"/>
                            </Grid>
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>
                
                <material:TabItem Title="Default entry">
                    <material:TabItem.ContentTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="*,*"
                                  RowDefinitions="*,*">
                                <Label 
                                    Grid.Row="0"
                                     Grid.Column="0"
                                     FontSize="24"
                                     Text="Default Country" 
                                     TextColor="{DynamicResource TextColor}"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center"/>

                                <material:TextField
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    x:Name="CountryEntry" 
                                    Title="Enter default country"
                                    Text="{Binding DefaultCountry, Mode=TwoWay}"/>

                                <Label 
                                    Grid.Row="1"
                                     Grid.Column="0"
                                     FontSize="24"
                                     Text="Default City" 
                                     TextColor="{DynamicResource TextColor}"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center"/>

                                <material:TextField
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    x:Name="CityEntry" 
                                    Title="Enter default city" 
                                    Text="{Binding DefaultCity, Mode=TwoWay}"/>
                                <Button 
                                    Text="Save values"
                                    FontSize="18"
                                    Clicked="OnSaveClicked"
                                    BorderWidth="0"
                                    BackgroundColor="{DynamicResource ButtonGreen}"
                                    TextColor="{DynamicResource ButtonUpdateDeleteText}"
                                    HorizontalOptions="Center"
                                    Padding="10"/>
                            </Grid>
                        </DataTemplate>
                    </material:TabItem.ContentTemplate>
                </material:TabItem>
            </material:TabView>

            

        </ScrollView>
        <!--Navigation bar-->
        <controls:BottomNavBar Grid.Row="1" />
    </Grid>
    
</ContentPage>